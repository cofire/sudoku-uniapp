(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/driver/petrol/petrolList"],{"56ec":function(e,t,n){"use strict";var o=n("8702"),i=n.n(o);i.a},6195:function(e,t,n){"use strict";(function(e){n("047e"),n("921b");o(n("66fd"));var t=o(n("8d83"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},8702:function(e,t,n){},"8a4f":function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.petrolList,(function(t,n){var o=e.dealDistance(t.distance);return{$orig:e.__get_orig(t),m0:o}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},"8d83":function(e,t,n){"use strict";n.r(t);var o=n("8a4f"),i=n("bd66");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("56ec");var u,a=n("f0c5"),s=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);t["default"]=s.exports},bd66:function(e,t,n){"use strict";n.r(t);var o=n("d7a5"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},d7a5:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("a2b4"));function i(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{province:"",city:"",geo_x:"",geo_y:"",distance:"",modeNname:"0#",petrolBrand:"",petrolType:"",oilTypeIndex:0,oilTypeList:o.default.oilTypeList,petrolList:[],regionList:o.default.regionList,regionIndex:0}},methods:{regionChange:function(e){this.regionIndex=e.detail.value,this.queryPetrols()},oilTypeChange:function(e){this.oilTypeIndex=e.detail.value,this.queryPetrols()},queryPetrols:function(){var t=this;e.authorize({scope:"scope.userLocation",success:function(){e.getLocation({type:"wgs84",success:function(e){t.geo_x=e.latitude,t.geo_y=e.longitude,t.$minApi.uniapp_post(t.$base_api.queryPetrols,{queryFields:{province:t.regionList[t.regionIndex].value,city:t.city,geo_x:t.geo_x,geo_y:t.geo_y,distance:t.distance,modeNname:t.oilTypeList[t.oilTypeIndex].value,petrolBrand:t.petrolBrand,petrolType:t.petrolType}},"json").then((function(e){e.success?null!=e.data?t.petrolList=e.data.content:t.petrolList=[]:t.$msg("查询加油站信息失败{}",e.msg)}))}})},fail:function(){t.$msg("请在小程序设置中开启位置权限")}})},selectPetrol:function(t){console.log(t),e.navigateTo({url:"/pages/driver/order/order?petrol="+encodeURIComponent(JSON.stringify(t))})},dealDistance:function(e){if(this.isBlank(e)||!this.isRealNum(e))return"0 km";if(e<1e3)return e+" m";var t=e/1e3;return t.toFixed(2)+" km"}},onLoad:function(){this.queryPetrols()},onPullDownRefresh:function(){this.queryPetrols(),wx.stopPullDownRefresh()}};t.default=r}).call(this,n("543d")["default"])}},[["6195","common/runtime","common/vendor"]]]);