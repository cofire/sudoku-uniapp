(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"202c":function(e,t,n){"use strict";n.r(t);var r=n("d673");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o,u,i,c,s=n("f0c5"),f=Object(s["a"])(r["default"],o,u,!1,null,null,null,!1,i,c);t["default"]=f.exports},"8e5b":function(e,t,n){"use strict";var r=n("b94a"),a=n.n(r);a.a},"929b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n("66fd"));function r(e){return e&&e.__esModule?e:{default:e}}var a="_userId",o="_userInfo",u="_phone",i="_mallId",c="_token",s="_refresh_token",f="_cartList",d=7200,l=n("c903");function p(t,n){e.chooseImage({count:t,success:function(t){t.tempFiles;var r=t.tempFilePaths;console.log(JSON.stringify(t));var a=e.uploadFile({url:n,name:"file",filePath:r[0],success:function(e){var t=e.data;e.statusCode,e.errMsg;return t}});a.onProgressUpdate((function(e){console.log("上传进度{}",e.progress),console.log("已上传的数据长度{}",e.totalBytesSent),console.log("需要上传的数据总长度{}",e.totalBytesExpectedToSend)}))}})}function g(t,n,r,a){e.login({provider:"weixin",success:function(t){var o=new Object;o.orderId=n,o.code=t.code,r.$minApi.uniapp_get(r.$base_api.unifiedOrder,o).then((function(t){if(t.success){var o=t.data.prepayId,u=t.data.nonceStr,i=t.data.appId,c=t.data.mchKey,s=String(Date.now()),f="appId="+i+"&nonceStr="+u+"&package=prepay_id="+o+"&signType=MD5&timeStamp="+s,d=f+"&key="+c,p=l.MD5(d).toUpperCase(),g="";console.log("签名的字符串",p),e.requestPayment({provider:"wxpay",timeStamp:s,nonceStr:u,package:"prepay_id="+o,signType:"MD5",paySign:p,success:function(e){b(n,a,r,g)},fail:function(e){r.$msg("订单支付失败，请重新支付",JSON.stringify(e)),r.$openPage("order")}})}else r.$msg("调用统一下单接口失败{}",t.msg)}))}})}function v(e){var t=e.userInfo,n=new Object;return t.iv=e.iv,t.rawData=e.rawData,t.errMsg=e.errMsg,t.signature=e.signature,t.encryptedData=e.encryptedData,n.userInfo=t,n}function b(t,n,r,a){r.$minApi.uniapp_post(r.$base_api.updateOrder,{orderId:t,type:n,refundReason:a}).then((function(o){var u=201,i=401;o.success&&n==u?r.$openPage("paySuccess"):o.success&&n!=u?e.navigateTo("/pages/order/order?orderStatus=999"):(r.$msg("支付成功，更改订单状态失败{}"),n=i,b(t,n,r,a))}))}function m(e){var t=e.$cache.get(a);return!(null==t||""==t||void 0==t)}function y(e){var t=e.$cache.get(u);return!(null==t||""==t||void 0==t)}function O(e){if(isNaN(e))return this.$msg("输入的身份证号不是数字！"),!1;var t=e.length;if(t<15||t>18)return this.$msg("输入的身份证号码长度不正确定！应为15位或18位"),!1;var n=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,r=/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/,a=n.test(e)||r.test(e);return 0==a?(this.$msg("输入的身份证号格式不正确！"),!1):a}function h(e){var t=/^((\(\d{3}\))|(\d{3}\-))?1\d{10}/;return t.test(e)}var _={USER_INFO:o,USER_PHONE:u,USER_ID_PREFIX:a,MALL_ID:i,AUTHORIZATION:c,RERRESH_TOKEN:s,uploadFile:p,isLogin:m,hasPhone:y,isCardNo:O,isMobilePhone:h,CART_LIST:f,timeOut:d,wxPay:g,updatePayStatus:b,prepareLoginParam:v};t.default=_}).call(this,n("543d")["default"])},"96f8":function(e,t,n){"use strict";n.r(t);var r=n("be1e"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},b94a:function(e,t,n){},be1e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:{canIUse:wx.canIUse("button.open-type.getUserInfo")},onLaunch:function(){},onShow:function(){var e=this;e.global.isLogin(e)},onHide:function(){console.log("App Hide")}};t.default=r},d673:function(e,t,n){"use strict";n.r(t);var r=n("929b"),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=a.a},da70:function(e,t,n){"use strict";n.r(t);var r=n("96f8");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("8e5b");var o,u,i,c,s=n("f0c5"),f=Object(s["a"])(r["default"],o,u,!1,null,null,null,!1,i,c);t["default"]=f.exports},eeb0:function(e,t,n){"use strict";(function(e,t){n("047e"),n("921b");var r=g(n("66fd")),a=g(n("da70")),o=g(n("a2b4")),u=g(n("fdb3")),i=g(n("19d9")),c=g(n("b3c7")),s=g(n("bf01")),f=g(n("9ad2")),d=g(n("4b82")),l=g(n("2ee9")),p=g(n("202c"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(t)&&e.showToast({title:t,duration:n,mask:r,icon:a})},O=function(e){return new Promise((function(t){setTimeout((function(){t(o.default[e])}),500)}))},h=function(){var e=getCurrentPages(),t=e[e.length-2];return t.$vm};r.default.config.productionTip=!1,r.default.prototype.$fire=new r.default,r.default.prototype.$msg=y,r.default.prototype.$base_api=u.default,r.default.prototype.$json=O,r.default.prototype.$prePage=h,r.default.prototype.global=p.default,r.default.use(i.default),r.default.use(s.default),r.default.use(f.default),r.default.use(d.default),a.default.mpType="app";var _=new r.default(b({},a.default,{minRequest:c.default,minRouter:l.default}));t(_).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])}},[["eeb0","common/runtime","common/vendor"]]]);