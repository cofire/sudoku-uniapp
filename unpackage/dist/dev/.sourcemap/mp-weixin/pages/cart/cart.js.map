{"version":3,"sources":["webpack:///D:/work/2018/cool-web/mall/mall-uniapp/main.js","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?ab4e","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?b1cc","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?063a","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?ca5c","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?22b2","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue?0d87"],"names":["createPage","Page","components","uniNumberBox","data","total","allChecked","empty","cartList","hasLogin","deleteList","numberChanged","productFolderName","onShow","global","isLogin","$cache","has","CART_LIST","get","$minApi","uniapp_post","$base_api","mergeCart","JSON","stringify","then","res","success","delete","getcartList","onHide","console","log","set","timeOut","items","forEach","item","undefined","cart","Object","cartId","goodsNumber","productId","push","modifyCount","watch","e","length","methods","loadData","cacheCartList","checked","calcTotal","condition","mallId","MALL_ID","list","map","productPicUrl","fileReview","onImageLoad","key","index","$set","onImageError","image","navToLogin","hasPhone","createOrder","$openPage","check","type","numberChange","event","i","cid","value","deleteCartItem","uni","showModal","content","cancelText","confirm","splice","row","cartIds","Array","deleteCart","hideLoading","clearCart","unitPrice","Number","toFixed","goodsData","productName","goodsBrief","number","price","goodsId","navigateTo","url","encodeURIComponent","onPullDownRefresh","setTimeout","stopPullDownRefresh"],"mappings":"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","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=25c99379&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"work/2018/cool-web/mall/mall-uniapp/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=25c99379&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniNumberBox from '@/components/uni-number-box.vue';\nexport default {\n\tcomponents: {\n\t\tuniNumberBox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttotal: 0, //总价格\n\t\t\tallChecked: false, //全选状态  true|false\n\t\t\tempty: false, //空白页现实  true|false\n\t\t\tcartList: [],\n\t\t\thasLogin: false,\n\t\t\tdeleteList: [],\n\t\t\tnumberChanged: false,\n\t\t\tproductFolderName: 'goods'\n\t\t};\n\t},\n\tonShow() {\n\t\tthis.hasLogin = this.global.isLogin(this)\n\t\tthis.numberChanged = false;\n\t\tif (this.hasLogin && this.$cache.has(this.global.CART_LIST)) {\n\t\t\tlet cartList = this.$cache.get(this.global.CART_LIST);\n\t\t\tthis.$minApi.uniapp_post(this.$base_api.mergeCart, JSON.stringify(cartList), 'json').then(res => {\n\t\t\t\tif (res.success) {\n\t\t\t\t\tthis.$cache.delete(this.global.CART_LIST);\n\t\t\t\t\tthis.getcartList();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.getcartList();\n\t},\n\n\tonHide() {\n\t\tconsole.log('this.numberCHanged:', this.numberChanged);\n\t\tif (!this.global.isLogin(this)) {\n\t\t\tif (this.$cache.has(this.global.CART_LIST)) {\n\t\t\t\tthis.$cache.set(this.global.CART_LIST, this.cartList, this.global.timeOut);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.numberChanged) {\n\t\t\t\tlet items = this.cartList;\n\t\t\t\tlet cartList = [];\n\t\t\t\titems.forEach(item => {\n\t\t\t\t\tif (item.numberChanged != undefined && item.numberChanged) {\n\t\t\t\t\t\tlet cart = new Object();\n\t\t\t\t\t\tcart.cartId = item.cartId;\n\t\t\t\t\t\tcart.goodsNumber = item.goodsNumber;\n\t\t\t\t\t\tcart.productId = item.productId;\n\t\t\t\t\t\tcartList.push(cart);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.$minApi.uniapp_post(this.$base_api.modifyCount, JSON.stringify(cartList), 'json');\n\t\t\t}\n\t\t}\n\t},\n\n\twatch: {\n\t\t//显示空白页\n\t\tcartList(e) {\n\t\t\tlet empty = e.length === 0 ? true : false;\n\t\t\tif (this.empty !== empty) {\n\t\t\t\tthis.empty = empty;\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\t//请求数据\n\t\tloadData() {\n\t\t\tthis.getcartList();\n\t\t},\n\n\t\t// 查询购物车\n\t\tgetcartList() {\n\t\t\tlet isLogin = this.global.isLogin(this);\n\t\t\tif (!isLogin) {\n\t\t\t\t// 从缓存中取购物车列表\n\t\t\t\tif (this.$cache.has(this.global.CART_LIST)) {\n\t\t\t\t\tlet cacheCartList = this.$cache.get(this.global.CART_LIST);\n\t\t\t\t\tcacheCartList.forEach(item => {\n\t\t\t\t\t\titem.checked = true;\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t\tthis.cartList = cacheCartList;\n\t\t\t\t} else {\n\t\t\t\t\tthis.empty = true;\n\t\t\t\t}\n\t\t\t\tthis.calcTotal(); //计算总价\n\t\t\t} else {\n\t\t\t\tvar condition = {\n\t\t\t\t\tmallId: this.$base_api.MALL_ID\n\t\t\t\t};\n\t\t\t\tthis.$minApi.uniapp_post(this.$base_api.cartList, condition).then(res => {\n\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\tlet list = res.data;\n\t\t\t\t\t\tlet cartList = list.map(item => {\n\t\t\t\t\t\t\titem.checked = true;\n\t\t\t\t\t\t\titem.productPicUrl =\n\t\t\t\t\t\t\t\tthis.$base_api.fileReview + '?mallId=' + this.$base_api.MALL_ID + '&folderName=' + this.productFolderName + '&fileName=' + item.productPicUrl;\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.cartList = cartList;\n\t\t\t\t\t\tthis.calcTotal(); //计算总价\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t//监听image加载完成\n\t\tonImageLoad(key, index) {\n\t\t\tthis.$set(this[key][index], 'loaded', 'loaded');\n\t\t},\n\t\t//监听image加载失败\n\t\tonImageError(key, index) {\n\t\t\tthis[key][index].image = '/static/errorImage.jpg';\n\t\t},\n\n\t\t// 判断是否登录，购物车是否为空\n\t\tnavToLogin() {\n\t\t\tlet hasPhone = this.global.hasPhone(this);\n\t\t\tif (this.cartList.length != 0) {\n\t\t\t\tif (this.hasLogin && hasPhone) {\n\t\t\t\t\tthis.createOrder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$openPage('Auth');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$openPage('index');\n\t\t\t}\n\t\t},\n\t\t//选中状态处理\n\t\tcheck(type, index) {\n\t\t\tif (type === 'item') {\n\t\t\t\tthis.cartList[index].checked = !this.cartList[index].checked;\n\t\t\t} else {\n\t\t\t\tconst checked = !this.allChecked;\n\t\t\t\tconst list = this.cartList;\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\titem.checked = checked;\n\t\t\t\t});\n\t\t\t\tthis.allChecked = checked;\n\t\t\t}\n\t\t\tthis.calcTotal(type);\n\t\t},\n\t\t//数量\n\t\tnumberChange(event) {\n\t\t\t// this.cartList[data.index].goodsNumber = data.number;\n\t\t\tvar items = this.cartList;\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tconst item = items[i];\n\t\t\t\tif (event.cid == item.cartId) {\n\t\t\t\t\tthis.$set(item, 'goodsNumber', event.value);\n\t\t\t\t\titem.numberChanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.calcTotal();\n\t\t\tthis.numberChanged = true;\n\t\t},\n\t\t//删除\n\t\tdeleteCartItem(index) {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '确认将这宝贝删除？',\n\t\t\t\tcancelText: '我在想想',\n\t\t\t\tsuccess: e => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tlet list = this.cartList;\n\t\t\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\t\t\tthis.cartList.splice(index, 1);\n\t\t\t\t\t\t\tif (this.cartList.length == 0) {\n\t\t\t\t\t\t\t\tthis.$cache.delete(this.global.CART_LIST);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$cache.set(this.global.CART_LIST, this.cartList, 2 * 60 * 60);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(\"删除购物项...\")\n\t\t\t\t\t\t\tlet row = list[index];\n\t\t\t\t\t\t\tlet cartIds = new Array();\n\t\t\t\t\t\t\tcartIds.push(row.cartId);\n\t\t\t\t\t\t\tthis.$minApi.uniapp_post(this.$base_api.deleteCart, JSON.stringify(cartIds), 'json').then(res => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//清空\n\t\tclearCart() {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '清空购物车？',\n\t\t\t\tsuccess: e => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tif (!this.hasLogin) {\n\t\t\t\t\t\t\tthis.cartList = [];\n\t\t\t\t\t\t\tthis.$cache.delete(this.global.CART_LIST);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet cartIds = [];\n\t\t\t\t\t\t\tthis.cartList.forEach(item => {\n\t\t\t\t\t\t\t\tcartIds.push(item.cartId);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$minApi.uniapp_post(this.$base_api.deleteCart, JSON.stringify(cartIds), 'json').then(res => {\n\t\t\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//计算总价\n\t\tcalcTotal() {\n\t\t\tlet list = this.cartList;\n\t\t\tif (list.length === 0) {\n\t\t\t\tthis.empty = true;\n\t\t\t\tthis.total = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet total = 0;\n\t\t\tlet checked = true;\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.checked === true) {\n\t\t\t\t\ttotal += item.unitPrice * item.goodsNumber;\n\t\t\t\t} else if (checked === true) {\n\t\t\t\t\tchecked = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.allChecked = checked;\n\t\t\tthis.total = Number(total.toFixed(2));\n\t\t},\n\t\t//创建订单\n\t\tcreateOrder() {\n\t\t\tlet list = this.cartList;\n\t\t\tlet goodsData = [];\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.checked) {\n\t\t\t\t\tgoodsData.push({\n\t\t\t\t\t\tproductName: item.productName,\n\t\t\t\t\t\tgoodsBrief: item.goodsBrief,\n\t\t\t\t\t\tnumber: item.goodsNumber,\n\t\t\t\t\t\tcartId: item.cartId,\n\t\t\t\t\t\tprice: item.unitPrice,\n\t\t\t\t\t\tgoodsId: item.goodsId,\n\t\t\t\t\t\tproductId: item.productId,\n\t\t\t\t\t\tproductPicUrl: item.productPicUrl\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t// let param = new Object();\n\t\t\t// param.name = '跳转的目标页面名称';\n\t\t\t// let query = new Object();\n\t\t\t// query = goodsData;\n\t\t\t// param.query = query;\n\t\t\t// this.$openPage(param);\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/order/createOrder?data= ' + encodeURIComponent(JSON.stringify(goodsData))\n\t\t\t});\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\t//监听下拉刷新动作的执行方法，每次手动下拉刷新都会执行一次\n\t\t\tconsole.log('refresh');\n\t\t\tthis.loadData();\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.stopPullDownRefresh(); //停止下拉刷新动画\n\t\t\t}, 1000);\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586496870717\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}