{"version":3,"sources":["webpack:///D:/work/2020/cx/tanker-uniapp/main.js","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?9a25","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?9944","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?89e7","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?c0f4","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?5972","webpack:///D:/work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue?48f5"],"names":["createPage","Page","data","province","city","geo_x","geo_y","distance","modeNname","petrolBrand","petrolType","oilTypeIndex","oilTypeList","Json","petrolList","regionList","regionIndex","scale","iconWidth","computed","mapCovers","covers","latitude","longitude","iconPath","width","height","undefined","length","forEach","petrol","index","cover","Object","geoX","geoY","push","methods","regionChange","e","detail","value","queryPetrols","oilTypeChange","tap","console","log","that","uni","authorize","scope","success","getLocation","type","res","$minApi","uniapp_post","$base_api","queryFields","then","content","$msg","msg","fail","selectPetrol","navigateTo","url","encodeURIComponent","JSON","stringify","dealDistance","isBlank","isRealNum","km","toFixed","onLoad","onPullDownRefresh","stopPullDownRefresh"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,8G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAA0tB,CAAgB,0rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+D9uB,oF,8FA/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAGe,EACbC,IADa,kBACN,CACL,OAAO,EACLC,QAAQ,EAAE,EADL,EAELC,IAAI,EAAE,EAFD,EAGLC,KAAK,EAAE,EAHF,EAILC,KAAK,EAAE,EAJF,EAKLC,QAAQ,EAAE,EALL,EAMLC,SAAS,EAAE,IANN,EAOLC,WAAW,EAAE,EAPR,EAQLC,UAAU,EAAE,EARP,EASLC,YAAY,EAAE,CATT,EAULC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","file":"pages/driver/petrol/petrolList.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/driver/petrol/petrolList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./petrolList.vue?vue&type=template&id=1cbc0380&\"\nvar renderjs\nimport script from \"./petrolList.vue?vue&type=script&lang=js&\"\nexport * from \"./petrolList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./petrolList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"work/2020/cx/tanker-uniapp/pages/driver/petrol/petrolList.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./petrolList.vue?vue&type=template&id=1cbc0380&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.petrolList, function(petrol, index) {\n    var m0 = _vm.dealDistance(petrol.distance)\n    return {\n      $orig: _vm.__get_orig(petrol),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./petrolList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./petrolList.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Json from '../../../Json.js'\nexport default {\n  data() {\n    return {\n      province: \"\",\n      city: \"\",\n      geo_x: \"\",\n      geo_y: \"\",\n      distance: \"\",\n      modeNname: \"0#\",\n      petrolBrand: \"\",\n      petrolType: \"\",\n      oilTypeIndex: 0,\n      oilTypeList: Json.oilTypeList,\n      petrolList: [],\n      regionList: Json.regionList,\n      regionIndex: 0,\n      scale: 16,\n      iconWidth: \"80rpx\"\n    }\n\n  },\n  computed: {\n    mapCovers() {\n      const covers = [{\n        latitude: this.geo_x,\n        longitude: this.geo_y,\n        iconPath: '../../../static/icon/location_me.png',\n        width: this.iconWidth,\n        height: this.iconWidth\n      }];\n      if (this.petrolList == undefined || this.petrolList == null || this.petrolList.length == 0) {\n        return covers;\n      }\n      this.petrolList.forEach((petrol, index) => {\n        let cover = new Object();\n        cover.iconPath = '../../../static/icon/location.png';\n        cover.latitude = petrol.geoX;\n        cover.longitude = petrol.geoY;\n        cover.width= this.iconWidth;\n        cover.height= this.iconWidth;\n        covers.push(cover);\n      })\n      return covers;\n    }\n  },\n  methods: {\n    regionChange: function(e) {\n      this.regionIndex = e.detail.value\n      this.queryPetrols();\n    },\n    oilTypeChange: function(e) {\n      this.oilTypeIndex = e.detail.value;\n      this.queryPetrols();\n    },\n    tap(e){\n      console.log(this.scale);\n      console.log(e);\n    },\n    //查询地址\n    queryPetrols() {\n      let that = this;\n      uni.authorize({\n        scope: 'scope.userLocation',\n        success() {\n          uni.getLocation({\n            type: 'wgs84',\n            success: function(res) {\n              that.geo_x = res.latitude;\n              that.geo_y = res.longitude;\n\n              that.$minApi.uniapp_post(that.$base_api.queryPetrols, {\n                queryFields: {\n                  province: that.regionList[that.regionIndex].value,\n                  city: that.city,\n                  geo_x: that.geo_x,\n                  geo_y: that.geo_y,\n                  distance: that.distance,\n                  modeNname: that.oilTypeList[that.oilTypeIndex].value,\n                  petrolBrand: that.petrolBrand,\n                  petrolType: that.petrolType\n                }\n              }, \"json\").then(res => {\n                if (res.success) {\n                  if (res.data != null) {\n                    that.petrolList = res.data.content;\n                  } else {\n                    that.petrolList = [];\n                  }\n                } else {\n                  that.$msg('查询加油站信息失败{}', res.msg);\n                }\n              })\n            }\n          });\n        },\n        fail() {\n          that.$msg('请在小程序设置中开启位置权限');\n        }\n      });\n    },\n    // 选择加油站\n    selectPetrol(petrol) {\n      console.log(petrol);\n      uni.navigateTo({\n        url: \"/pages/driver/order/order\" + '?petrol=' + encodeURIComponent(JSON.stringify(petrol))\n      });\n    },\n    dealDistance(distance) {\n      if (this.isBlank(distance) || !this.isRealNum(distance)) {\n        return \"0 km\";\n      }\n      if (distance < 1000) {\n        return distance + \" m\";\n      }\n      let km = distance / 1000;\n      return km.toFixed(2) + \" km\";\n    }\n  },\n  onLoad() {\n    this.queryPetrols();\n\n  },\n  onPullDownRefresh() {\n    this.queryPetrols();\n    uni.stopPullDownRefresh();\n  },\n}\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./petrolList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./petrolList.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587464632913\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}