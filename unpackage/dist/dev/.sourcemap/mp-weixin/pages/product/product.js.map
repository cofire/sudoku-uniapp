{"version":3,"sources":["webpack:///D:/work/2018/cool-web/mall/mall-uniapp/main.js","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?f780","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?2354","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?200e","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?b1e0","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?29e2","webpack:///D:/work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue?4989"],"names":["createPage","Page","components","joinCartNumber","data","specClass","specSelected","favorite","imgList","reviewNumber","specList","specChildList","goodsBrief","marketPrice","unitPrice","totalStock","totalSell","goodsMarketPrice","goodsUnitPrice","noCart","goodsId","totalAsk","questions","goodsFolderName","count","onLoad","options","item","JSON","parse","decodeURIComponent","id","loadData","console","log","methods","condition","$base_api","MALL_ID","$minApi","uniapp_post","queryGoodsDetail","then","res","picUrlList","i","length","fileReview","specNames","products","totalSells","cItem","$set","productPicUrl","number","toggleSpec","setTimeout","selectSpec","index","pid","list","forEach","productId","selected","numberChange","joinCart","cart","Object","goodsName","goodsNumber","mallId","productName","uni","showToast","title","duration","isLogin","global","cartId","Date","getTime","productVolume","$cache","has","CART_LIST","cartList","get","flag","cartItem","push","set","Array","addCart","success","msg","buy","hasPhone","$openPage","specItem","goodsData","price","navigateTo","url","encodeURIComponent","stringify","stopPrevent","allAsk"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,mG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAutB,CAAgB,urBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiJ5tB;AACdC,YAAU,EAAE;AACXC,kBAAc,EAAdA,cADW,EADE;;AAIdC,MAJc,kBAIP;AACN,WAAO;AACNC,eAAS,EAAE,MADL;AAENC,kBAAY,EAAE,EAFR;AAGNC,cAAQ,EAAE,IAHJ;AAINC,aAAO,EAAE,EAJH;AAKNC,kBAAY,EAAE,CALR;AAMNC,cAAQ,EAAE,EANJ;AAONC,mBAAa,EAAE,EAPT;AAQNC,gBAAU,EAAE,EARN;AASNC,iBAAW,EAAE,EATP;AAUNC,eAAS,EAAE,EAVL;AAWNC,gBAAU,EAAE,EAXN;AAYNC,eAAS,EAAE,EAZL;AAaNC,sBAAgB,EAAE,EAbZ;AAcNC,oBAAc,EAAE,EAdV;AAeNC,YAAM,EAAE,IAfF;AAgBNC,aAAO,EAAE,EAhBH;AAiBNC,cAAQ,EAAE,CAjBJ;AAkBNC,eAAS,EAAE,EAlBL;AAmBNC,qBAAe,EAAE,OAnBX;AAoBNC,WAAK,EAAE,CApBD,EAAP;;AAsBA,GA3Ba;AA4BdC,QA5Bc,kBA4BPC,OA5BO,EA4BE;AACf,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,kBAAkB,CAACJ,OAAO,CAACC,IAAT,CAA7B,CAAb;AACA,QAAII,EAAE,GAAGJ,IAAI,CAACP,OAAd;AACA,SAAKA,OAAL,GAAeW,EAAf;AACA,SAAKC,QAAL,CAAcD,EAAd;AACAE,WAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKd,OAA5B;AACA,GAlCa;AAmCde,SAAO,EAAE;;AAERH,YAFQ,oBAECZ,OAFD,EAEU;AACjB,UAAIgB,SAAS,GAAG;AACf,kBAAU,KAAKC,SAAL,CAAeC,OADV;AAEf,mBAAWlB,OAFI,EAAhB;;AAIA,WAAKmB,OAAL,CAAaC,WAAb,CAAyB,KAAKH,SAAL,CAAeI,gBAAxC,EAA0DL,SAA1D,EAAqEM,IAArE,CAA0E,UAAAC,GAAG,EAAI;AAChFV,eAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBS,GAAG,CAACvC,IAA5B;AACA,aAAI,CAACI,OAAL,GAAemC,GAAG,CAACvC,IAAJ,CAASwC,UAAxB;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAI,CAACrC,OAAL,CAAasC,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC7C,eAAI,CAACrC,OAAL,CAAaqC,CAAb,IAAkB,KAAI,CAACR,SAAL,CAAeU,UAAf,GAA4B,UAA5B,GAAyC,KAAI,CAACV,SAAL,CAAeC,OAAxD,GAAkE,cAAlE;AACjB,eAAI,CAACf,eADY,GACM,YADN,GACqB,KAAI,CAACf,OAAL,CAAaqC,CAAb,CADvC;AAEA;AACDZ,eAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAI,CAAC1B,OAA5B;AACA,aAAI,CAACI,UAAL,GAAkB+B,GAAG,CAACvC,IAAJ,CAASQ,UAA3B;AACA,aAAI,CAACF,QAAL,GAAgBiC,GAAG,CAACvC,IAAJ,CAAS4C,SAAzB;AACA,aAAI,CAACrC,aAAL,GAAqBgC,GAAG,CAACvC,IAAJ,CAAS6C,QAA9B;AACA,aAAI,CAAClC,UAAL,GAAkB4B,GAAG,CAACvC,IAAJ,CAASW,UAA3B;AACA,aAAI,CAACC,SAAL,GAAiB2B,GAAG,CAACvC,IAAJ,CAAS8C,UAA1B;AACA,aAAI,CAACjC,gBAAL,GAAwB0B,GAAG,CAACvC,IAAJ,CAASS,WAAjC;AACA,aAAI,CAACK,cAAL,GAAsByB,GAAG,CAACvC,IAAJ,CAASU,SAA/B;AACA,aAAI,CAACO,QAAL,GAAgBsB,GAAG,CAACvC,IAAJ,CAASiB,QAAzB;AACA,aAAI,CAACC,SAAL,GAAiBqB,GAAG,CAACvC,IAAJ,CAASkB,SAA1B;AACA;AAjBgF,+GAkBhF,qBAAkB,KAAI,CAACX,aAAvB,8HAAsC,KAA7BwC,KAA6B;AACrC,iBAAI,CAACC,IAAL,CAAUD,KAAV,EAAiB,UAAjB,EAA6B,IAA7B;AACA,iBAAI,CAAC7C,YAAL,GAAoB6C,KAApB;AACA,iBAAI,CAAC7C,YAAL,CAAkB+C,aAAlB,GAAkC,KAAI,CAAChB,SAAL,CAAeU,UAAf,GAA4B,UAA5B,GAAyC,KAAI,CAACV,SAAL,CAAeC,OAAxD;AACjC,0BADiC;AAEjC,iBAAI,CAACf,eAF4B,GAEV,YAFU,GAEK,KAAI,CAACjB,YAAL,CAAkB+C,aAFzD;AAGA,iBAAI,CAAC/C,YAAL,CAAkBgD,MAAlB,GAA2B,CAA3B;AACA,kBAPqC,CAO9B;AACP,WA1B+E;AA2BhFrB,eAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAI,CAAC5B,YAAjC;AACA,OA5BD;AA6BA,KApCO;;AAsCR;AACAiD,cAvCQ,wBAuCK;AACZ,UAAI,KAAKlD,SAAL,KAAmB,MAAvB,EAA+B;AAC9B,aAAKA,SAAL,GAAiB,MAAjB;AACAmD,kBAAU,CAAC,YAAM;AAChB,gBAAI,CAACnD,SAAL,GAAiB,MAAjB;AACA,SAFS,EAEP,GAFO,CAAV;AAGA,OALD,MAKO,IAAI,KAAKA,SAAL,KAAmB,MAAvB,EAA+B;AACrC,aAAKA,SAAL,GAAiB,MAAjB;AACA;AACD,KAhDO;;AAkDR;AACAoD,cAnDQ,sBAmDGC,KAnDH,EAmDUC,GAnDV,EAmDe;AACtB,UAAGD,KAAK,KAAK,CAAV,IAAe,KAAKlC,KAAL,KAAe,CAAjC,EAAmC;AAClC;AACA;AACD,UAAIoC,IAAI,GAAG,KAAKjD,aAAhB;AACAiD,UAAI,CAACC,OAAL,CAAa,UAAAlC,IAAI,EAAI;AACpB,YAAIA,IAAI,CAACmC,SAAL,KAAmBH,GAAvB,EAA4B;AAC3B,gBAAI,CAACP,IAAL,CAAUzB,IAAV,EAAgB,UAAhB,EAA4B,KAA5B;AACA;AACD,OAJD;;AAMA,WAAKyB,IAAL,CAAUQ,IAAI,CAACF,KAAD,CAAd,EAAuB,UAAvB,EAAmC,IAAnC;AACA;AACA;;;;;AAKA,WAAKpD,YAAL,GAAoB,EAApB;AACAsD,UAAI,CAACC,OAAL,CAAa,UAAAlC,IAAI,EAAI;AACpB,YAAIA,IAAI,CAACoC,QAAL,KAAkB,IAAtB,EAA4B;AAC3B,gBAAI,CAACzD,YAAL,GAAoBqB,IAApB;AACA,gBAAI,CAACrB,YAAL,CAAkBgD,MAAlB,GAA2B,CAA3B;AACA,cAAI,MAAI,CAAC9B,KAAL,IAAc,CAAlB,EAAqB;AACpB,kBAAI,CAAClB,YAAL,CAAkB+C,aAAlB,GAAkC,MAAI,CAAChB,SAAL,CAAeU,UAAf,GAA4B,UAA5B,GAAyC,MAAI,CAACV,SAAL,CAAeC,OAAxD;AACjC,0BADiC;AAEjC,kBAAI,CAACf,eAF4B,GAEV,YAFU,GAEK,MAAI,CAACjB,YAAL,CAAkB+C,aAFzD;AAGA;AACD,gBAAI,CAAC7B,KAAL,GAAa,CAAb;AACA;AACD,OAXD;AAYA,KAlFO;;AAoFRwC,gBApFQ,wBAoFK5D,IApFL,EAoFW;AAClB,WAAKE,YAAL,CAAkBgD,MAAlB,GAA2BlD,IAAI,CAACkD,MAAhC;AACA,KAtFO;;AAwFR;AACAW,YAzFQ,sBAyFG;AACV,UAAIC,IAAI,GAAG,IAAIC,MAAJ,EAAX;AACA,UAAI,KAAK7D,YAAL,IAAqB,IAAzB,EAA+B;AAC9B4D,YAAI,CAAC9C,OAAL,GAAe,KAAKA,OAApB;AACA8C,YAAI,CAACJ,SAAL,GAAiB,KAAKxD,YAAL,CAAkBwD,SAAnC;AACAI,YAAI,CAACE,SAAL,GAAiB,KAAK9D,YAAL,CAAkB8D,SAAnC;AACAF,YAAI,CAACrD,WAAL,GAAmB,KAAKP,YAAL,CAAkBO,WAArC;AACAqD,YAAI,CAACpD,SAAL,GAAiB,KAAKR,YAAL,CAAkBQ,SAAnC;AACAoD,YAAI,CAACG,WAAL,GAAmB,KAAK/D,YAAL,CAAkBgD,MAArC;AACAY,YAAI,CAACI,MAAL,GAAc,KAAKjC,SAAL,CAAeC,OAA7B;AACA4B,YAAI,CAACtD,UAAL,GAAkB,KAAKA,UAAvB;AACAsD,YAAI,CAACK,WAAL,GAAmB,KAAKjE,YAAL,CAAkBiE,WAArC;AACA,OAVD,MAUO;AACNC,WAAG,CAACC,SAAJ,CAAc;AACbC,eAAK,EAAE,QADM;AAEbC,kBAAQ,EAAE,IAFG,EAAd;;AAIA;AACA;AACD,UAAIC,OAAO,GAAG,KAAKC,MAAL,CAAYD,OAAZ,CAAoB,IAApB,CAAd;AACA,UAAI,CAACA,OAAL,EAAc;AACb;AACAV,YAAI,CAACb,aAAL,GAAqB,KAAK/C,YAAL,CAAkB+C,aAAvC;AACAa,YAAI,CAACY,MAAL,GAAc,IAAIC,IAAJ,GAAWC,OAAX,EAAd;AACAd,YAAI,CAACe,aAAL,GAAqB,KAAK3E,YAAL,CAAkB2E,aAAvC;AACA,YAAI,KAAKC,MAAL,CAAYC,GAAZ,CAAgB,KAAKN,MAAL,CAAYO,SAA5B,CAAJ,EAA4C;AAC3C;AACA,cAAIC,QAAQ,GAAG,KAAKH,MAAL,CAAYI,GAAZ,CAAgB,KAAKT,MAAL,CAAYO,SAA5B,CAAf;AACA,cAAIG,IAAI,GAAG,KAAX,CAH2C;AAI3C,kCAAqBF,QAArB,mIAA+B,KAAtBG,QAAsB;AAC9B,kBAAIA,QAAQ,CAAC1B,SAAT,IAAsBI,IAAI,CAACJ,SAA/B,EAA0C;AACzC0B,wBAAQ,CAACnB,WAAT,GAAuBmB,QAAQ,CAACnB,WAAT,GAAuBH,IAAI,CAACG,WAAnD;AACAkB,oBAAI,GAAG,IAAP;AACA;AACA;AACD,aAV0C;AAW3C,cAAI,CAACA,IAAL,EAAW;AACVF,oBAAQ,CAACI,IAAT,CAAcvB,IAAd;AACA;AACDjC,iBAAO,CAACC,GAAR;AACA,eAAKgD,MAAL,CAAYQ,GAAZ,CAAgB,KAAKb,MAAL,CAAYO,SAA5B,EAAuCC,QAAvC,EAAiD,IAAI,EAAJ,GAAS,EAA1D;AACA,SAhBD,MAgBO;AACN;AACA,cAAIA,SAAQ,GAAG,IAAIM,KAAJ,EAAf;AACAN,mBAAQ,CAACI,IAAT,CAAcvB,IAAd;AACA,eAAKgB,MAAL,CAAYQ,GAAZ,CAAgB,KAAKb,MAAL,CAAYO,SAA5B,EAAuCC,SAAvC,EAAiD,IAAI,EAAJ,GAAS,EAA1D;AACA;AACDb,WAAG,CAACC,SAAJ,CAAc;AACbC,eAAK,EAAE,SADM;AAEbC,kBAAQ,EAAE,IAFG,EAAd;;AAIA;AACA;AACD,UAAI,KAAKrE,YAAL,IAAqB,IAAzB,EAA+B;AAC9B;AACA,aAAKiC,OAAL,CAAaC,WAAb,CAAyB,KAAKH,SAAL,CAAeuD,OAAxC,EAAiD1B,IAAjD,EAAuDxB,IAAvD,CAA4D,UAAAC,GAAG,EAAI;AAClEV,iBAAO,CAACC,GAAR,CAAYS,GAAZ;AACA,cAAIA,GAAG,CAACkD,OAAR,EAAiB;AAChBrB,eAAG,CAACC,SAAJ,CAAc;AACbC,mBAAK,EAAE,SADM;AAEbC,sBAAQ,EAAE,IAFG,EAAd;;AAIA,WALD,MAKO;AACNH,eAAG,CAACC,SAAJ,CAAc;AACbC,mBAAK,EAAE/B,GAAG,CAACmD,GADE;AAEbnB,sBAAQ,EAAE,IAFG,EAAd;;AAIA;AACD,SAbD;AAcA,OAhBD,MAgBO;AACN;AACA,aAAKxD,MAAL,GAAc,KAAd;AACA,aAAKoC,UAAL;AACA;AACD,KAnKO;;AAqKRwC,OArKQ,iBAqKF;AACL,UAAInB,OAAO,GAAG,KAAKC,MAAL,CAAYD,OAAZ,CAAoB,IAApB,CAAd;AACA,UAAIoB,QAAQ,GAAG,KAAKnB,MAAL,CAAYmB,QAAZ,CAAqB,IAArB,CAAf;AACA,UAAI,CAACpB,OAAD,IAAY,CAACoB,QAAjB,EAA2B;AAC1B,aAAKC,SAAL,CAAe,MAAf;AACA;AACD,UAAI,CAACD,QAAL,EAAe;AACd;AACA,aAAKC,SAAL,CAAe,KAAf;AACA;AACD,UAAIC,QAAQ,GAAG,KAAK5F,YAApB;AACA2B,aAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAK5B,YAAzB;AACA,UAAI6F,SAAS,GAAG,EAAhB;AACAA,eAAS,CAACV,IAAV,CAAe;AACdlB,mBAAW,EAAE2B,QAAQ,CAAC3B,WADR;AAEd3D,kBAAU,EAAE,KAAKA,UAFH;AAGdyC,qBAAa,EAAE6C,QAAQ,CAAC7C,aAHV;AAIdC,cAAM,EAAE4C,QAAQ,CAAC5C,MAJH;AAKd8C,aAAK,EAAEF,QAAQ,CAACpF,SALF;AAMdM,eAAO,EAAE,KAAKA,OANA;AAOd0C,iBAAS,EAAEoC,QAAQ,CAACpC,SAPN,EAAf;;AASAU,SAAG,CAAC6B,UAAJ,CAAe;AACdC,WAAG,EAAE,oCAAoCC,kBAAkB,CAAC3E,IAAI,CAAC4E,SAAL,CAAeL,SAAf,CAAD,CAD7C,EAAf;;AAGA,KA9LO;;AAgMRM,eAhMQ,yBAgMM,CAAE,CAhMR;;AAkMRC,UAlMQ,oBAkMC;AACR,UAAItF,OAAO,GAAG,KAAKA,OAAnB;AACAoD,SAAG,CAAC6B,UAAJ,CAAe;AACdC,WAAG,8CAAuClF,OAAvC,CADW,EAAf;;AAGA,KAvMO,EAnCK,E;;;;;;;;;;;;;ACjJf;AAAA;AAAA;AAAA;AAAwzC,CAAgB,yrCAAG,EAAC,C;;;;;;;;;;;ACA50C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./product.vue?vue&type=template&id=70402919&\"\nvar renderjs\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"work/2018/cool-web/mall/mall-uniapp/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=70402919&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport joinCartNumber from '@/components/jion-cart-number.vue'\n\nexport default {\n\tcomponents: {\n\t\tjoinCartNumber\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tspecClass: 'none',\n\t\t\tspecSelected: {},\n\t\t\tfavorite: true,\n\t\t\timgList: [],\n\t\t\treviewNumber: 0,\n\t\t\tspecList: [],\n\t\t\tspecChildList: [],\n\t\t\tgoodsBrief: '',\n\t\t\tmarketPrice: '',\n\t\t\tunitPrice: '',\n\t\t\ttotalStock: '',\n\t\t\ttotalSell: '',\n\t\t\tgoodsMarketPrice: '',\n\t\t\tgoodsUnitPrice: '',\n\t\t\tnoCart: true,\n\t\t\tgoodsId: '',\n\t\t\ttotalAsk: 0,\n\t\t\tquestions: [],\n\t\t\tgoodsFolderName: \"goods\",\n\t\t\tcount: 0,\n\t\t};\n\t},\n\tonLoad(options) {\n\t\tconst item = JSON.parse(decodeURIComponent(options.item));\n\t\tvar id = item.goodsId;\n\t\tthis.goodsId = id;\n\t\tthis.loadData(id);\n\t\tconsole.log(\"goodsId\", this.goodsId);\n\t},\n\tmethods: {\n\n\t\tloadData(goodsId) {\n\t\t\tvar condition = {\n\t\t\t\t\"mallId\": this.$base_api.MALL_ID,\n\t\t\t\t\"goodsId\": goodsId\n\t\t\t}\n\t\t\tthis.$minApi.uniapp_post(this.$base_api.queryGoodsDetail, condition).then(res => {\n\t\t\t\tconsole.log(\"res.data\", res.data);\n\t\t\t\tthis.imgList = res.data.picUrlList;\n\t\t\t\tfor (let i = 0; i < this.imgList.length; i++) {\n\t\t\t\t\tthis.imgList[i] = this.$base_api.fileReview + '?mallId=' + this.$base_api.MALL_ID + '&folderName=' +\n\t\t\t\t\t\tthis.goodsFolderName + '&fileName=' + this.imgList[i];\n\t\t\t\t}\n\t\t\t\tconsole.log(\"*******\", this.imgList);\n\t\t\t\tthis.goodsBrief = res.data.goodsBrief;\n\t\t\t\tthis.specList = res.data.specNames;\n\t\t\t\tthis.specChildList = res.data.products;\n\t\t\t\tthis.totalStock = res.data.totalStock;\n\t\t\t\tthis.totalSell = res.data.totalSells;\n\t\t\t\tthis.goodsMarketPrice = res.data.marketPrice;\n\t\t\t\tthis.goodsUnitPrice = res.data.unitPrice;\n\t\t\t\tthis.totalAsk = res.data.totalAsk;\n\t\t\t\tthis.questions = res.data.questions;\n\t\t\t\t//规格默认选中第一件\n\t\t\t\tfor (let cItem of this.specChildList) {\n\t\t\t\t\tthis.$set(cItem, 'selected', true);\n\t\t\t\t\tthis.specSelected = cItem;\n\t\t\t\t\tthis.specSelected.productPicUrl = this.$base_api.fileReview + '?mallId=' + this.$base_api.MALL_ID +\n\t\t\t\t\t\t'&folderName=' +\n\t\t\t\t\t\tthis.goodsFolderName + '&fileName=' + this.specSelected.productPicUrl;\n\t\t\t\t\tthis.specSelected.number = 1;\n\t\t\t\t\tbreak; //forEach不能使用break\n\t\t\t\t}\n\t\t\t\tconsole.log(\"specSelected\", this.specSelected);\n\t\t\t})\n\t\t},\n\n\t\t//选择规格弹窗开关\n\t\ttoggleSpec() {\n\t\t\tif (this.specClass === 'show') {\n\t\t\t\tthis.specClass = 'hide';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t}, 250);\n\t\t\t} else if (this.specClass === 'none') {\n\t\t\t\tthis.specClass = 'show';\n\t\t\t}\n\t\t},\n\n\t\t//选择规格\n\t\tselectSpec(index, pid) {\n\t\t\tif(index === 0 && this.count === 0){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet list = this.specChildList;\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.productId !== pid) {\n\t\t\t\t\tthis.$set(item, 'selected', false);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.$set(list[index], 'selected', true);\n\t\t\t//存储已选择\n\t\t\t/**\n\t\t\t * 修复选择规格存储错误\n\t\t\t * 将这几行代码替换即可\n\t\t\t * 选择的规格存放在specSelected中\n\t\t\t */\n\t\t\tthis.specSelected = {};\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.selected === true) {\n\t\t\t\t\tthis.specSelected = item;\n\t\t\t\t\tthis.specSelected.number = 1;\n\t\t\t\t\tif (this.count == 0) {\n\t\t\t\t\t\tthis.specSelected.productPicUrl = this.$base_api.fileReview + '?mallId=' + this.$base_api.MALL_ID +\n\t\t\t\t\t\t\t'&folderName=' +\n\t\t\t\t\t\t\tthis.goodsFolderName + '&fileName=' + this.specSelected.productPicUrl;\n\t\t\t\t\t}\n\t\t\t\t\tthis.count = 1;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tnumberChange(data) {\n\t\t\tthis.specSelected.number = data.number;\n\t\t},\n\n\t\t//加入购物车\n\t\tjoinCart() {\n\t\t\tlet cart = new Object();\n\t\t\tif (this.specSelected != null) {\n\t\t\t\tcart.goodsId = this.goodsId;\n\t\t\t\tcart.productId = this.specSelected.productId;\n\t\t\t\tcart.goodsName = this.specSelected.goodsName;\n\t\t\t\tcart.marketPrice = this.specSelected.marketPrice;\n\t\t\t\tcart.unitPrice = this.specSelected.unitPrice;\n\t\t\t\tcart.goodsNumber = this.specSelected.number;\n\t\t\t\tcart.mallId = this.$base_api.MALL_ID;\n\t\t\t\tcart.goodsBrief = this.goodsBrief;\n\t\t\t\tcart.productName = this.specSelected.productName;\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"选择规格出错\",\n\t\t\t\t\tduration: 1000\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet isLogin = this.global.isLogin(this);\n\t\t\tif (!isLogin) {\n\t\t\t\t// 判断缓存中是否有购物车列表\n\t\t\t\tcart.productPicUrl = this.specSelected.productPicUrl;\n\t\t\t\tcart.cartId = new Date().getTime();\n\t\t\t\tcart.productVolume = this.specSelected.productVolume;\n\t\t\t\tif (this.$cache.has(this.global.CART_LIST)) {\n\t\t\t\t\t// 缓存中有，则更新数量\n\t\t\t\t\tlet cartList = this.$cache.get(this.global.CART_LIST);\n\t\t\t\t\tlet flag = false;\n\t\t\t\t\tfor (let cartItem of cartList) {\n\t\t\t\t\t\tif (cartItem.productId == cart.productId) {\n\t\t\t\t\t\t\tcartItem.goodsNumber = cartItem.goodsNumber + cart.goodsNumber;\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!flag) {\n\t\t\t\t\t\tcartList.push(cart);\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log();\n\t\t\t\t\tthis.$cache.set(this.global.CART_LIST, cartList, 2 * 60 * 60);\n\t\t\t\t} else {\n\t\t\t\t\t// 缓存中没有，加入购物车\n\t\t\t\t\tlet cartList = new Array();\n\t\t\t\t\tcartList.push(cart);\n\t\t\t\t\tthis.$cache.set(this.global.CART_LIST, cartList, 2 * 30 * 60);\n\t\t\t\t}\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"加入购物车成功\",\n\t\t\t\t\tduration: 2000,\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.specSelected != null) {\n\t\t\t\t//直接加入购物车\n\t\t\t\tthis.$minApi.uniapp_post(this.$base_api.addCart, cart).then(res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '添加购物车成功',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//选择规格\n\t\t\t\tthis.noCart = false;\n\t\t\t\tthis.toggleSpec();\n\t\t\t}\n\t\t},\n\n\t\tbuy() {\n\t\t\tlet isLogin = this.global.isLogin(this);\n\t\t\tlet hasPhone = this.global.hasPhone(this);\n\t\t\tif (!isLogin && !hasPhone) {\n\t\t\t\tthis.$openPage('Auth');\n\t\t\t}\n\t\t\tif (!hasPhone) {\n\t\t\t\t// this.$msg(\"请去个人信息页面添加手机号\");\n\t\t\t\tthis.$openPage('set');\n\t\t\t}\n\t\t\tlet specItem = this.specSelected;\n\t\t\tconsole.log(\"item\", this.specSelected);\n\t\t\tlet goodsData = [];\n\t\t\tgoodsData.push({\n\t\t\t\tproductName: specItem.productName,\n\t\t\t\tgoodsBrief: this.goodsBrief,\n\t\t\t\tproductPicUrl: specItem.productPicUrl,\n\t\t\t\tnumber: specItem.number,\n\t\t\t\tprice: specItem.unitPrice,\n\t\t\t\tgoodsId: this.goodsId,\n\t\t\t\tproductId: specItem.productId\n\t\t\t})\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/order/createOrder?data= ' + encodeURIComponent(JSON.stringify(goodsData))\n\t\t\t})\n\t\t},\n\n\t\tstopPrevent() {},\n\n\t\tallAsk() {\n\t\t\tlet goodsId = this.goodsId;\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/askandreply/askEveryone?id=${goodsId}`\n\t\t\t})\n\t\t}\n\t},\n\n}\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586498090612\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}